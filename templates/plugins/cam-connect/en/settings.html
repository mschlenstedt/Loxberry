  <!-- content -->

  <div role="main" class="ui-content">
    <div class="ui-body ui-body-a ui-corner-all">

    <!-- text -->
    <div style="margin: 5%;">

      <center>
      <table border=0 cellpadding=10>
       <tr>
        <td colspan="3" width="100%">
           <center><b>This Plugin has no configuration options.</b></center>
          <br/><hr>
          But this page can help you to find the correct URL for your Loxone Config Parameter of the Loxone Intercom Object.
          <br/><br/><i>This example works for a <b>Trendnet TV-IP310PI</b> camera.</i> 
        </td>
       </tr>
		   <tr>
         <td width="150px" align="right">
         <label id="label_cam_host_or_ip">Cam-IP-Address or Hostname:<br/><small><i>Please enter the port only if different from 80.</label>
         </td>
         <td>
         <input id="cam_host_or_ip" name="cam_host_or_ip" type="text" class="textfield" value="Cam-Hostname:80">
         </td>
         <td>
         &nbsp;
         </td>
          <td valign="middle">
         &nbsp;
         </td>
       </tr>
		   <tr>
         <td align="right">
         <label id="label_cam_user">Camera-Username:</label>
         </td>
         <td>
         <input id="cam_user" name="cam_user" type="text" class="textfield" value="Username">
         </td>
         <td>
         &nbsp;
         </td>
         <td>
         &nbsp;
         </td>
       </tr>
       <tr>
         <td align="right">
         <label id="label_cam_pass">Camera-Password:</label>
         </td>
         <td>
         <input id="cam_pass" type="text" class="textfield" value="Password">
         </td>
         <td>
         &nbsp;
         </td>
         <td>
         &nbsp;
         </td>
       </tr>
       <tr>
        <td colspan="3" width="100%">
          <hr>
          Please paste the following URL in the Loxone Config into the Loxone Intercom-Object in the field "Picture when ringing (internal)":<br/>
          <br/>
         <font face="courier"><b>http://<!--$self_host--><!--$plugin_script-->?kamera=<span style="color:#4040FF" id="cam_host_or_ip_url">Camera-Hostname:80</span>/Streaming/channels/1/picture&user=<span style="color:#FF40C0" id="cam_user_url">Username</span>&pass=<span style="color:#c080FF" id="cam_pass_url">Password</span></b></font>
        	<a id="btntest" data-role="button" data-inline="true" data-mini="true" data-icon="refresh" href="#">Testen</a>
     </td>
      </tr>
      </table>
      </center>
      <p>
      &nbsp;
      </p>
      <p>
      <center>
      <a id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="check" href="/admin/index.cgi">OK</a>
      </center>
      </p>

    </div>
    <!-- /text -->
    </div>

  </div>


  <script>
  var $messages = $('#form-error-message');
  $.validate({
    modules : 'security',
    errorMessagePosition : $messages,
  });
  
$( "#btntest" ).css('visibility', 'hidden');
$( "#cam_host_or_ip" ).keyup(function( event ) { $( "#cam_host_or_ip_url" ).html($( "#cam_host_or_ip").val()); $( "#btntest" ).css('visibility', 'visible')});
$( "#cam_user" ).keyup(function( event ) { $( "#cam_user_url" ).html($( "#cam_user").val()); $( "#btntest" ).css('visibility', 'visible')});
$( "#cam_pass" ).keyup(function( event ) { $( "#cam_pass_url" ).html($( "#cam_pass").val()); $( "#btntest" ).css('visibility', 'visible')});
$( "#btntest" ).click( function () 
{
	url2open = "http://<!--$self_host--><!--$plugin_script-->?kamera=" + $( "#cam_host_or_ip").val() + 	 "/Streaming/channels/1/picture&user=" + 	 $( "#cam_user").val() + "&pass=" + $( "#cam_pass").val();
	window.open(url2open, 'Cam-Connect','status=no,scrollbars=no,titlebar=no,toolbar=no,menubar=no,location=no');
});

  </script>

  <!-- /content -->
